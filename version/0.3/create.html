
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Create SCADE models &#8212; pyscade-apitools</title>
    
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=796348d33e8b1d947c94" rel="stylesheet">
<link href="_static/styles/bootstrap.css?digest=796348d33e8b1d947c94" rel="stylesheet">
<link href="_static/styles/pydata-sphinx-theme.css?digest=796348d33e8b1d947c94" rel="stylesheet">

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=796348d33e8b1d947c94" rel="stylesheet">
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2">
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2">
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2">

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/css/ansys_sphinx_theme.css" />
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.23/css/jquery.dataTables.min.css" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=796348d33e8b1d947c94">
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=796348d33e8b1d947c94">

    
        <link href="_static/css/breadcrumbs.css" rel="stylesheet">
    
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/js/table.js"></script>
    <script src="https://cdn.datatables.net/1.10.23/js/jquery.dataTables.min.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'create';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://apitools.scade.docs.pyansys.com/versions.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = '0.3';
        </script>
    <link rel="shortcut icon" href="_static/ansys-favicon.png"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Reference" href="modules.html" />
    <link rel="prev" title="SCADE scripting" href="scripting.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="docsearch:language" content="en">
  <link rel="canonical" href="https://apitools.scade.docs.pyansys.com/version/stable/create.html" />
  </head>
  
  
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="180" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>

  
  <input type="checkbox" class="sidebar-toggle" name="__primary" id="__primary">
  <label class="overlay overlay-primary" for="__primary"></label>

  
  <input type="checkbox" class="sidebar-toggle" name="__secondary" id="__secondary">
  <label class="overlay overlay-secondary" for="__secondary"></label>

  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
      <!-- Debugging: html_theme_options =  -->

  <!-- If there is no MiliSearch enabled, use the PyData search -->
<form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
    </div>
  </div>

  
    
  <nav class="bd-header navbar navbar-expand-lg bd-navbar" id="navbar-main"><div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
      <span class="fa-solid fa-bars"></span>
  </label>
  <div id="navbar-start">
    
    
  


<a class="navbar-brand logo" href="index.html">

  
  
  
  
  
  
  

  
    <img src="_static/pyansys-logo-black-cropped.png" class="logo__image only-light" alt="Logo image">
    <img src="_static/pyansys-logo-black-cropped.png" class="logo__image only-dark" alt="Logo image">
  
  
</a>
    
  </div>

  
  <div class="col-lg-9 navbar-header-items">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <nav class="navbar-nav">
    <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="Site Navigation">
        Site Navigation
    </p>
    <ul id="navbar-main-elements" class="navbar-nav">
        
                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="guide.html">
                        User’s Guide
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="modules.html">
                        Reference
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="examples.html">
                        Examples
                      </a>
                    </li>
                
    </ul>
</nav>
      </div>
      
    </div>

    <div id="navbar-end">
      
        <div class="navbar-end-item navbar-persistent--container">
          
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-toggle="tooltip">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
        </div>
      
      
      <div class="navbar-end-item">
        <div class="version-switcher__container dropdown">
    <button type="button" class="version-switcher__button btn btn-sm navbar-btn dropdown-toggle" data-toggle="dropdown">
        0.3  <!-- this text may get changed later by javascript -->
        <span class="caret"></span>
    </button>
    <div class="version-switcher__menu dropdown-menu list-group-flush py-0">
    <!-- dropdown will be populated by javascript on page load -->
    </div>
</div>
      </div>
      
      <div class="navbar-end-item">
        <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
</button>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://github.com/ansys/scade-apitools" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa-brands fa-square-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>


  
  
    <div class="navbar-persistent--mobile">
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-toggle="tooltip">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
    </div>
  

  
  <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
  </label>
  

</div>
  </nav>
  

    
    <div id="announcement_msg"></div>
<script>
  fetch("announcement.html")
    .then((response) => {
      if (!response.ok) {
        throw new Error(`HTTP error: ${response.status}`);
      }
      return response.text();
    })
    .then(text => document.getElementById("announcement_msg").innerHTML = text)
    .catch((error) => console.error(`Fetch problem: ${error.message}`));
</script>
    

    
    <div class="container-xl">
    <div class="row">
        <div class="col-12 col-md-3" id="breadcrumbs-spacer"></div>
        <div class="col-12 col-md-11 col-xl-9" id="breadcrumbs">
          
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
    
        <li class="nav-item nav-item-additional-breadcrumb"><a href="https://docs.pyansys.com/">PyAnsys</a> » </li>
    
    
        <li class="nav-item nav-item-0"><a href="index.html">pyscade-apitools</a> » </li>
    

          <li class="nav-item nav-item-1"><a href="guide.html" accesskey="U">User’s Guide</a> » </li>
        <li class="nav-item nav-item-this"><a href="">Create SCADE models</a></li> 
      </ul>
    </div>
        </div>
  </div>
</div>
    


  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        
  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
      
      <div class="navbar-center-item">
        <nav class="navbar-nav">
    <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="Site Navigation">
        Site Navigation
    </p>
    <ul id="navbar-main-elements" class="navbar-nav">
        
                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="guide.html">
                        User’s Guide
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="modules.html">
                        Reference
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="examples.html">
                        Examples
                      </a>
                    </li>
                
    </ul>
</nav>
      </div>
      
      </div>
    

    
    
    <div class="sidebar-header-items__end">
      
      <div class="navbar-end-item">
        <div class="version-switcher__container dropdown">
    <button type="button" class="version-switcher__button btn btn-sm navbar-btn dropdown-toggle" data-toggle="dropdown">
        0.3  <!-- this text may get changed later by javascript -->
        <span class="caret"></span>
    </button>
    <div class="version-switcher__menu dropdown-menu list-group-flush py-0">
    <!-- dropdown will be populated by javascript on page load -->
    </div>
</div>
      </div>
      
      <div class="navbar-end-item">
        <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
</button>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://github.com/ansys/scade-apitools" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa-brands fa-square-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
      </ul>
      </div>
      
    </div>
    
  </div>

  
  <div class="sidebar-start-items sidebar-primary__section">
    <div class="sidebar-start-items__item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    
    <p aria-level="2" class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="scripting.html">SCADE scripting</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Create SCADE models</a></li>
</ul>

    
    
  </div>
</nav>
    </div>
  </div>
  

  
  <div class="sidebar-end-items sidebar-primary__section">
    <div class="sidebar-end-items__item">
    </div>
  </div>

  
  <div id="rtd-footer-container"></div>

      </div>
      <main id="main-content" class="bd-main">
        
        
        <div class="bd-content">
          <div class="bd-article-container">
            
            <div class="bd-header-article">
                
            </div>
            
            
            <article class="bd-article" role="main">
              
  <section id="create-scade-models">
<h1>Create SCADE models<a class="headerlink" href="#create-scade-models" title="Permalink to this heading">#</a></h1>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this heading">#</a></h2>
<p>The SCADE Python API allows modifying SCADE projects and models. This requires a deep knowledge of the underlying meta-model to create consistent instances of classes and associations. Mistakes can lead to corrupted models, difficult to detect, and tool crashes.</p>
<p>The module <a class="reference internal" href="_autosummary/ansys.scade.apitools.create.html#module-ansys.scade.apitools.create" title="ansys.scade.apitools.create"><code class="xref py py-mod docutils literal notranslate"><span class="pre">create</span></code></a> provides higher level functions to ensure the syntactically correctness of the created models.
The overall design consists in having independent functions: it is not required to make several function calls to complete a single modification.</p>
<p><strong>Important: this library must be used in command line scripts only. Modifying a model from the IDE, while it is loaded, corrupts the internal state of the SCADE Editor and leads to unpredictable results.</strong></p>
<p>Notes:</p>
<ul>
<li><p>The current version gives only access to the creation of new elements into an existing project or Scade model.</p>
<p>The edition of a model, for example deleting elements, requires more functions that could be added later on.</p>
</li>
<li><p>The annotations are not supported yet.</p></li>
<li><p>This library is derived from the existing <em>SCADE Creation Library</em> (<em>SCL</em>), available for TCL and Python.</p>
<ul class="simple">
<li><p>The functions have been renamed accordingly to PEP8.</p></li>
<li><p>Most of the interfaces are identical: there are a few changes for providing a more Pythonic way.</p></li>
<li><p>You can migrate existing applications to use this library, or continue to use <em>SCL</em> which is going to be re-implemented on top of this library.</p></li>
</ul>
</li>
<li><p>The functions are all accessible from <a class="reference internal" href="_autosummary/ansys.scade.apitools.create.html#module-ansys.scade.apitools.create" title="ansys.scade.apitools.create"><code class="xref py py-mod docutils literal notranslate"><span class="pre">create</span></code></a>, regardless the submodule they are defined in.</p></li>
</ul>
</section>
<section id="overall-structure-of-a-script">
<h2>Overall structure of a script<a class="headerlink" href="#overall-structure-of-a-script" title="Permalink to this heading">#</a></h2>
<p>A script which modifies a Scade model usually has the following architecture:</p>
<ul class="simple">
<li><p>Load an existing project: this gives access to two separate sets of data:</p>
<ul>
<li><p>Project: content of the project file (<code class="docutils literal notranslate"><span class="pre">.etp</span></code>).</p></li>
<li><p>Scade model: content of the model files (<code class="docutils literal notranslate"><span class="pre">*.xscade</span></code> and <code class="docutils literal notranslate"><span class="pre">*.scade</span></code>).</p></li>
</ul>
</li>
<li><p>Add new elements to the project and the model.</p></li>
<li><p>Save the project and the model.</p></li>
</ul>
<p>The following script adds a new package to a project:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Example for creating a package.</span>

<span class="sd">scade.exe -script &lt;project&gt; create_package.py</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>

<span class="kn">from</span> <span class="nn">scade.model.suite</span> <span class="kn">import</span> <span class="n">get_roots</span> <span class="k">as</span> <span class="n">get_sessions</span>
<span class="kn">from</span> <span class="nn">scade.model.project.stdproject</span> <span class="kn">import</span> <span class="n">get_roots</span> <span class="k">as</span> <span class="n">get_projects</span>

<span class="kn">import</span> <span class="nn">ansys.scade.apitools.create</span> <span class="k">as</span> <span class="nn">create</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">project</span> <span class="o">=</span> <span class="n">get_projects</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">session</span> <span class="o">=</span> <span class="n">get_sessions</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>

    <span class="c1"># create a new package in the project&#39;s directory</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">project</span><span class="o">.</span><span class="n">pathname</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span> <span class="o">/</span> <span class="s1">&#39;MyPackage.xscade&#39;</span>
    <span class="n">package</span> <span class="o">=</span> <span class="n">create</span><span class="o">.</span><span class="n">create_package</span><span class="p">(</span><span class="n">session</span><span class="o">.</span><span class="n">model</span><span class="p">,</span> <span class="s1">&#39;MyPackage&#39;</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
    <span class="c1"># save the Scade model</span>
    <span class="n">create</span><span class="o">.</span><span class="n">save_all</span><span class="p">()</span>

    <span class="c1"># add the package to the project file</span>
    <span class="n">create</span><span class="o">.</span><span class="n">add_element_to_project</span><span class="p">(</span><span class="n">project</span><span class="p">,</span> <span class="n">package</span><span class="p">)</span>
    <span class="c1"># save the project file</span>
    <span class="n">create</span><span class="o">.</span><span class="n">save_project</span><span class="p">(</span><span class="n">project</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
<p>When run on an empty project, hereafter is the new Scade model:</p>
<figure class="align-default">
<img alt="_images/create_package_s.png" src="_images/create_package_s.png" />
</figure>
<p>The new file is added to the project at the default location:</p>
<figure class="align-default">
<img alt="_images/create_package_fv.png" src="_images/create_package_fv.png" />
</figure>
</section>
<section id="debugging-of-a-creation-script">
<h2>Debugging of a creation script<a class="headerlink" href="#debugging-of-a-creation-script" title="Permalink to this heading">#</a></h2>
<p>It is advised to embed the script in an environment which makes first a copy of the model to ease the debugging.</p>
<p>The following script, compatible with any Python IDE, makes a copy of the original model, declares the result project and calls the original script’s function main:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Wrapper of create_package.py for debugging.</span>

<span class="sd">Project: ./Model/Model.etp</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="kn">from</span> <span class="nn">shutil</span> <span class="kn">import</span> <span class="n">rmtree</span><span class="p">,</span> <span class="n">copytree</span>

<span class="kn">from</span> <span class="nn">ansys.scade.apitools</span> <span class="kn">import</span> <span class="n">declare_project</span>

<span class="kn">from</span> <span class="nn">create_package</span> <span class="kn">import</span> <span class="n">main</span>

<span class="c1"># duplicate the model to a new directory</span>
<span class="nb">dir</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span>
<span class="n">source_dir</span> <span class="o">=</span> <span class="nb">dir</span> <span class="o">/</span> <span class="s1">&#39;Model&#39;</span>
<span class="n">target_dir</span> <span class="o">=</span> <span class="nb">dir</span> <span class="o">/</span> <span class="s1">&#39;Result&#39;</span>
<span class="k">if</span> <span class="n">target_dir</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
    <span class="n">rmtree</span><span class="p">(</span><span class="n">target_dir</span><span class="p">)</span>
<span class="n">copytree</span><span class="p">(</span><span class="n">source_dir</span><span class="p">,</span> <span class="n">target_dir</span><span class="p">)</span>

<span class="c1"># declare the duplicated model</span>
<span class="n">declare_project</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">target_dir</span> <span class="o">/</span> <span class="s1">&#39;Model.etp&#39;</span><span class="p">))</span>

<span class="c1"># regular script</span>
<span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="trees">
<h2>Trees<a class="headerlink" href="#trees" title="Permalink to this heading">#</a></h2>
<p>The library does not allow the creation of intermediate elements to prevent the risk of incorrect models because of partial or missing links.
For example, it is not possible to create an instance of <code class="docutils literal notranslate"><span class="pre">ExprId</span></code> linked to a constant but not contained by any model element.
Some parts such as types or expressions can be quite large: there are functions to create such trees in an incremental way, which will be compiled when creating the related model element. These intermediate structures, or trees, are used for creating:</p>
<ul class="simple">
<li><p>Types</p></li>
<li><p>Expressions</p></li>
<li><p>Transitions</p></li>
<li><p>Control block branches</p></li>
</ul>
<p>The next sections introduce the expression and type trees.</p>
<section id="type-tree">
<h3>Type tree<a class="headerlink" href="#type-tree" title="Permalink to this heading">#</a></h3>
<p>A <a class="reference internal" href="_autosummary/ansys.scade.apitools.create.type.TypeTree.html#ansys.scade.apitools.create.type.TypeTree" title="ansys.scade.apitools.create.type.TypeTree"><code class="xref py py-class docutils literal notranslate"><span class="pre">type</span> <span class="pre">tree</span> <span class="pre">(TT)</span></code></a> represents any Scade type. <a class="reference internal" href="_autosummary/ansys.scade.apitools.create.type.TX.html#ansys.scade.apitools.create.type.TX" title="ansys.scade.apitools.create.type.TX"><code class="xref py py-class docutils literal notranslate"><span class="pre">Extended</span> <span class="pre">type</span> <span class="pre">trees</span> <span class="pre">(EX)</span></code></a> provide more flexibility by accepting any of the following types:</p>
<ul class="simple">
<li><p><a class="reference internal" href="_autosummary/ansys.scade.apitools.create.type.TypeTree.html#ansys.scade.apitools.create.type.TypeTree" title="ansys.scade.apitools.create.type.TypeTree"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span> <span class="pre">tree</span> <span class="pre">(TT)</span></code></a></p></li>
<li><p>Instance of <code class="docutils literal notranslate"><span class="pre">scade.model.suite.Type</span></code></p></li>
<li><p>Name of a predefined type: <code class="docutils literal notranslate"><span class="pre">'bool'</span></code>, <code class="docutils literal notranslate"><span class="pre">'int32'</span></code>, <code class="docutils literal notranslate"><span class="pre">'float64'</span></code>…</p></li>
</ul>
<p>There are functions to create complex expression trees, such as structures or arrays, cf. <a class="reference internal" href="_autosummary/ansys.scade.apitools.create.type.html#module-ansys.scade.apitools.create.type" title="ansys.scade.apitools.create.type"><code class="xref py py-mod docutils literal notranslate"><span class="pre">create.type</span></code></a>.</p>
<p>The following example adds a simple type to a model:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># add a new type to the model, in the default file for root declarations</span>
<span class="n">speed</span> <span class="o">=</span> <span class="n">create</span><span class="o">.</span><span class="n">create_named_type</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="s1">&#39;Speed&#39;</span><span class="p">,</span> <span class="s1">&#39;float32&#39;</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<p>The next example creates an array of points:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># add an array of points</span>
<span class="n">tree</span> <span class="o">=</span> <span class="n">create</span><span class="o">.</span><span class="n">create_structure</span><span class="p">((</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;float32&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="s1">&#39;float32&#39;</span><span class="p">))</span>
<span class="n">point</span> <span class="o">=</span> <span class="n">create</span><span class="o">.</span><span class="n">create_named_type</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="s1">&#39;Point&#39;</span><span class="p">,</span> <span class="n">tree</span><span class="p">)</span>
<span class="n">tree</span> <span class="o">=</span> <span class="n">create</span><span class="o">.</span><span class="n">create_table</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="n">point</span><span class="p">)</span>
<span class="n">polyline</span> <span class="o">=</span> <span class="n">create</span><span class="o">.</span><span class="n">create_named_type</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="s1">&#39;polyline&#39;</span><span class="p">,</span> <span class="n">tree</span><span class="p">)</span>
</pre></div>
</div>
<p>Although this is not advised, it is possible to combine trees, thus the usage of this term:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># add an array of anonymous (x, y)</span>
<span class="n">tree_struct</span> <span class="o">=</span> <span class="n">create</span><span class="o">.</span><span class="n">create_structure</span><span class="p">((</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;float32&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="s1">&#39;float32&#39;</span><span class="p">))</span>
<span class="n">tree_table</span> <span class="o">=</span> <span class="n">create</span><span class="o">.</span><span class="n">create_table</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="n">tree_struct</span><span class="p">)</span>
<span class="n">polyline2</span> <span class="o">=</span> <span class="n">create</span><span class="o">.</span><span class="n">create_named_type</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="s1">&#39;polyline2&#39;</span><span class="p">,</span> <span class="n">tree_table</span><span class="p">)</span>
</pre></div>
</div>
<p>Refer to the module <a class="reference internal" href="_autosummary/ansys.scade.apitools.create.type.html#module-ansys.scade.apitools.create.type" title="ansys.scade.apitools.create.type"><code class="xref py py-mod docutils literal notranslate"><span class="pre">create.type</span></code></a> for a complete reference and the functions to create any type tree.</p>
</section>
<section id="expression-tree">
<h3>Expression tree<a class="headerlink" href="#expression-tree" title="Permalink to this heading">#</a></h3>
<p>An <a class="reference internal" href="_autosummary/ansys.scade.apitools.create.expression.ExpressionTree.html#ansys.scade.apitools.create.expression.ExpressionTree" title="ansys.scade.apitools.create.expression.ExpressionTree"><code class="xref py py-class docutils literal notranslate"><span class="pre">expression</span> <span class="pre">tree</span> <span class="pre">(ET)</span></code></a> represents any Scade expression, made of operators and operands. <a class="reference internal" href="_autosummary/ansys.scade.apitools.create.expression.EX.html#ansys.scade.apitools.create.expression.EX" title="ansys.scade.apitools.create.expression.EX"><code class="xref py py-class docutils literal notranslate"><span class="pre">Extended</span> <span class="pre">expression</span> <span class="pre">trees</span> <span class="pre">(EX)</span></code></a> provide more flexibility by accepting any of the following types:</p>
<ul class="simple">
<li><p><a class="reference internal" href="_autosummary/ansys.scade.apitools.create.expression.ExpressionTree.html#ansys.scade.apitools.create.expression.ExpressionTree" title="ansys.scade.apitools.create.expression.ExpressionTree"><code class="xref py py-class docutils literal notranslate"><span class="pre">Expression</span> <span class="pre">tree</span> <span class="pre">(ET)</span></code></a></p></li>
<li><p>Instance of <code class="docutils literal notranslate"><span class="pre">scade.model.suite.ConstVar</span></code></p></li>
<li><p>Scade literals: <code class="docutils literal notranslate"><span class="pre">'true'</span></code>, <code class="docutils literal notranslate"><span class="pre">'3.14_f32'</span></code></p></li>
<li><p>Python literals: <code class="docutils literal notranslate"><span class="pre">True</span></code>, <code class="docutils literal notranslate"><span class="pre">42</span></code>, <code class="docutils literal notranslate"><span class="pre">3.14</span></code>, <code class="docutils literal notranslate"><span class="pre">'c'</span></code>…</p></li>
</ul>
<p>The following example adds two constants to a model. The first one, <code class="docutils literal notranslate"><span class="pre">N</span></code> is an integer and its expression is the literal <code class="docutils literal notranslate"><span class="pre">42</span></code>. The second one, <code class="docutils literal notranslate"><span class="pre">N2</span></code>, requires an expression tree to specify its value:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># constant N: int32 = 42</span>
<span class="n">cst_n</span> <span class="o">=</span> <span class="n">create</span><span class="o">.</span><span class="n">create_constant</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="s1">&#39;N&#39;</span><span class="p">,</span> <span class="s1">&#39;int32&#39;</span><span class="p">,</span> <span class="mi">42</span><span class="p">)</span>
<span class="c1"># constant N2: int32 = N * N</span>
<span class="n">tree</span> <span class="o">=</span> <span class="n">create</span><span class="o">.</span><span class="n">create_nary</span><span class="p">(</span><span class="s1">&#39;*&#39;</span><span class="p">,</span> <span class="n">cst_n</span><span class="p">,</span> <span class="n">cst_n</span><span class="p">)</span>
<span class="n">cst_n2</span> <span class="o">=</span> <span class="n">create</span><span class="o">.</span><span class="n">create_constant</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="s1">&#39;N2&#39;</span><span class="p">,</span> <span class="s1">&#39;int32&#39;</span><span class="p">,</span> <span class="n">tree</span><span class="p">)</span>
</pre></div>
</div>
<p>Refer to the module <a class="reference internal" href="_autosummary/ansys.scade.apitools.create.expression.html#module-ansys.scade.apitools.create.expression" title="ansys.scade.apitools.create.expression"><code class="xref py py-mod docutils literal notranslate"><span class="pre">create.expression</span></code></a> for a complete reference and the functions to create any expression tree.</p>
</section>
</section>
</section>


            </article>
            
            
            
          </div>
          
          
          
            <div class="bd-sidebar-secondary bd-toc">
              
<div class="toc-item">
  
<div class="tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
</div>
<nav id="bd-toc-nav" class="page-toc">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#introduction">
   Introduction
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#overall-structure-of-a-script">
   Overall structure of a script
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#debugging-of-a-creation-script">
   Debugging of a creation script
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#trees">
   Trees
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#type-tree">
     Type tree
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#expression-tree">
     Expression tree
    </a>
   </li>
  </ul>
 </li>
</ul>

</nav>
</div>

<div class="toc-item">
  
<div id="searchbox"></div>
</div>

<div class="toc-item">
  
</div>

<div class="toc-item">
  
<div class="tocsection sourcelink">
    <a href="_sources/create.rst.txt">
        <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
</div>

</div>

            </div>
          
          
        </div>
        <footer class="bd-footer-content">
          <div class="bd-footer-content__inner">
            
          </div>
        </footer>
        
      </main>
    </div>
  </div>

  
    
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=796348d33e8b1d947c94"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=796348d33e8b1d947c94"></script>

  <footer class="bd-footer"><div class="bd-footer__inner container">
  
  <div class="footer-item">
    
<p class="copyright">

    &copy; Copyright (c) 2023 ANSYS, Inc. All rights reserved.<br>

</p>

  </div>
  
  <div class="footer-item">
    <p class="theme-version">
    Built with the
    <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">
        PyData Sphinx Theme
    </a>
    0.12.0.
</p>
  </div>
  
  <div class="footer-item">
    
<p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 5.0.2.<br>
</p>

  </div>
  
</div>
  </footer>
  </body>
</html>